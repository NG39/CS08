# import * from './generated/prisma.graphql'

type Query {
	userPosts(userID: ID!): [Post!]!
	coursesFromYear(year: Int!): [Course!]!
	checkPermission: String
  gradeFromCourseID(id: ID!): [StudentCourseGrade!]!
  getGradeByID(id: ID!): StudentCourseGrade!
  getOverallGrade(year: Int!, id: ID!, level: Year!): OverallGrade!
  getCourses: [Course!]!
  getUsers: [User!]!
  }

type Mutation {
	createPost(text: String!, userID: ID!): Post
	signup(email: String!, password: String!, name: String!, role: Role!): AuthPayload
  login(email: String!, password: String!): AuthPayload
  changeGradeWeight(grade: Float!, weight: Float!, id: ID!): StudentCourseGrade!
  deleteUser(id: ID!): User!
  updateUserRole(id: ID!, role: Role!): User!
}

type AuthPayload {
  token: String
  user: User
}


type StudentCourseGrade {
  id: ID!
  course: Course!
  student: Student!
  weight: Float!
  grade: Float!
  createdAt: DateTime!
}

type OverallGrade {
  id: ID!
  student: Student!
  year: Int!
  studentLevel: Year!
  grade: Float!
}